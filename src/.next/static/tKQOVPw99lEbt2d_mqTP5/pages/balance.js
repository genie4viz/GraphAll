(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RfrO:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/balance",function(){var t=a("tRqh");return{page:t.default||t}}])},azxR:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var n=a("hHgk"),r=a.n(n);function i(t,e,a){return e in t?r()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},tRqh:function(t,e,a){"use strict";a.r(e);var n,r=a("UrUy"),i=a.n(r),l=a("JYC+"),s=a.n(l),o=a("R3/3"),c=a("z3IF"),u=a("LkAs"),h=a("Moms"),d=a("bMj6"),f=a("hZod"),m=a("tEuJ"),p=a("mXGw"),v=a.n(p),g=a("CXsl"),y=a("YKN3"),b=a("azxR"),w=a("t1Qi"),O=(p.Component,function(t){function e(t){var a;Object(u.default)(this,e);var n=(a=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,r=n.transX,i=n.bar_height,l=n.svgDimen,s=n.data;return a.state={transX:r,bar_height:i,svgDimen:l,data:s},a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){this.drawBar()}},{key:"componentWillReceiveProps",value:function(t){var e=t.transX,a=t.svgDimen,n=t.bar_height,r=t.data;this.setState({transX:e,bar_height:n,svgDimen:a,data:r})}},{key:"componentDidUpdate",value:function(){this.drawBar()}},{key:"drawBar",value:function(){var t=this.state,e=t.svgDimen,a=t.bar_height,n=t.data,r=.25*e.width,i=a/100,l=0,s=w.w(this.el),o=["#63ae2d","#ef7d00","#de0730"];s.selectAll("*").remove();for(var c=0,u=0;u<n.length;u++)l+=n[u].value;l=100/l;for(var h=0;h<n.length;h++)n[h].value=n[h].value*l,c+=n[h].value*i;for(var d=function(t){s.append("rect").attr("x",-r/2).attr("y",function(){for(var e=0,a=0;a<t;a++)e+=n[a].value*i;return-(c-e)}).attr("width",r).attr("height",n[t].value*i).style("fill",o[t]),s.append("text").attr("x",0).attr("y",function(){for(var e=0,a=0;a<t;a++)e+=n[a].value*i;return-(c-e-n[t].value*i/2)}).attr("alignment-baseline","central").style("fill","white").style("opacity",function(){return 0===n[t].value?0:1}).style("text-anchor","middle").style("font-size",16).text(n[t].value.toFixed(2)+"%")},f=0;f<n.length;f++)d(f)}},{key:"render",value:function(){var t=this,e=this.state,a=e.transX,n=.017*e.svgDimen.width;return v.a.createElement("g",{className:"Bar",transform:"translate(".concat(a," , ").concat(n,")"),ref:function(e){return t.el=e}})}}]),e}(p.Component)),j=function(t){function e(t){var a;Object(u.default)(this,e);var n=(a=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,r=n.margins,i=n.years,l=n.svgDimen,s=n.initialValue,o=n.xScale;return a.state={svgDimen:l,years:i,margins:r,initialValue:s,xScale:o},a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"onMouseOver",value:function(){this.setState({handle:this.props.handle})}},{key:"componentWillReceiveProps",value:function(t){var e=t.initialValue,a=t.years,n=t.margins,r=t.svgDimen,i=t.xScale;this.setState({initialValue:e,years:a,margins:n,svgDimen:r,xScale:i})}},{key:"render",value:function(){var t=this.state,e=t.initialValue,a=t.xScale,n=this.props.handle,r=v.a.createElement("circle",{r:"10px",fill:"#de0730"}),i=v.a.createElement("text",{style:{opacity:1,fontSize:14,fill:"#de0730"}});return v.a.createElement("g",{className:n,transform:"translate(".concat(a(e),", 20)"),onMouseOver:this.onMouseOver.bind(this)},i,r)}},{key:"componentDidUpdate",value:function(t){var e,a,n=this.state,r=n.margins,i=n.svgDimen,l=n.xScale,s=n.initialValue,o=this.props,c=o.onChangeYear,u=o.handle;if(t.svgDimen.width!=this.state.svgDimen.width||t.years!=this.state.years)w.w("."+u).attr("transform","translate("+l(s)+", 20)"),w.w("."+u).select("text").attr("alignment-baseline","middle").attr("dy",-15).style("text-anchor","middle").text(s);else{var h=function(t){return Math.round(l.invert(t))},d=w.j().on("start",function(){e=w.p(this)[0],a=h(e),w.w("."+u).attr("transform","translate("+e+", 20)"),w.w("."+u).select("text").attr("alignment-baseline","middle").attr("dy",-15).style("text-anchor","middle").text(a)}).on("drag",function(){e=w.p(this)[0],a=h(e),e>r.left&&e<i.width-r.right&&(w.w("."+u).attr("transform","translate("+e+", 20)"),w.w("."+u).select("text").attr("alignment-baseline","middle").attr("dy",-15).style("text-anchor","middle").text(a))}).on("end",function(){w.w("."+u).attr("transform","translate("+l(a)+", 20)"),c(a)});w.w(".rangeSliderGroup").call(d)}}}]),e}(p.Component),x=function(t){function e(t){var a;Object(u.default)(this,e);var n=(a=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,r=n.years,i=n.xScale;return a.state={years:r,xScale:i},a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"componentWillReceiveProps",value:function(t){var e=t.years,a=t.xScale;this.setState({years:e,xScale:a})}},{key:"renderAxis",value:function(){var t=this.state,e=t.years,a=t.xScale,n=e[0],r=e[e.length-1];w.w(this.axisElement).call(w.d().scale(a).ticks(e.length).tickFormat(w.k(""))).selectAll("text").style("opacity",function(t){return t===n||t===r?1:0}).style("font-size","14px").style("fill","black"),w.w(this.axisElement).selectAll("line").attr("stroke","white"),w.w(this.axisElement).select("path").style("d","none")}},{key:"render",value:function(){var t=this;return v.a.createElement("g",{className:"sliderAxis",transform:"translate(0,30)",ref:function(e){return t.axisElement=e}})}}]),e}(v.a.Component),C=function(t){function e(t){var a;return Object(u.default)(this,e),a=Object(d.default)(this,Object(f.default)(e).call(this,t)),console.log(a.props.years,"from range slider"),a.state={width:a.props.width,height:a.props.height,years:a.props.years},a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.width,a=t.height,n=t.years;this.setState({width:e,height:a,years:n})}},{key:"render",value:function(){var t=this.state,e=t.width,a=t.height,n=t.years,r=this.props.onChangeYear,i={top:20,right:50,bottom:20,left:50},l={width:e-i.left-i.right,height:a},s=v.a.createElement("rect",{rx:"5",ry:"5",y:"15",width:l.width-i.left-i.right,transform:"translate(".concat(i.left,", 0)"),height:"10",fill:"grey"}),o=n[0],c=n[n.length-1],u=w.s().domain([o,c]).range([i.left,l.width-i.right]).clamp(!0);return v.a.createElement("svg",{className:"rangeSliderSvg",width:l.width,height:l.height,transform:"translate(".concat(i.left,", 0)")},v.a.createElement("g",{className:"rangeSliderGroup",transform:"translate(0, ".concat(l.height-i.bottom-40,")")},s,v.a.createElement(x,{years:n,xScale:u}),v.a.createElement(j,{onChangeYear:r,handle:"handle",initialValue:o,years:n,margins:i,svgDimen:l,xScale:u})))}}]),e}(p.Component),k=function(t){function e(t){var a;Object(u.default)(this,e),a=Object(d.default)(this,Object(f.default)(e).call(this,t)),Object(b.a)(Object(y.default)(Object(y.default)(a)),"handleChangeYear",function(t){for(var e=a.state.data,n=0;n<e.length;n++)if(e[n].year===t){a.setState({balanceChartData:e[n].values});break}});var n=a.props,r=n.data,i=n.width,l=n.height;return a.state={data:r,sliderData:a.parseYear(r),balanceChartData:r[0].values,width:i,height:l},a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.data,a=t.width,n=t.height;this.setState({sliderData:this.parseYear(e),balanceChartData:e[0].values,data:e,width:a,height:n})}},{key:"parseYear",value:function(t){return t.map(function(t){return t.Date.split("-")[0]}).sort(w.c)}},{key:"render",value:function(){return v.a.createElement("div",{className:"timeslidercharts"},v.a.createElement("div",{className:"rangeSlider"},v.a.createElement(C,{onChangeYear:this.handleChangeYear,width:this.state.width,height:this.state.height/6,years:this.state.sliderData})))}}]),e}(p.Component),E=function(t){function e(t){var a;Object(u.default)(this,e);var n=(a=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,r=n.parentWidth,i=n.parentHeight,l=n.data;return a.state={data:l,width:r>650?650:Math.max(r,480),height:Math.max(i,400)},a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){var e=t.parentWidth,a=t.parentHeight,n=t.data;this.setState({data:n,width:e>650?650:Math.max(e,480),height:Math.max(a,400)})}},{key:"render",value:function(){return v.a.createElement(p.Fragment,null,v.a.createElement(k,{data:this.state.data,width:this.state.width,height:this.state.height}))}}]),e}(p.Component),S=(n=E,function(t){function e(t){var a;return Object(u.default)(this,e),(a=Object(d.default)(this,Object(f.default)(e).call(this,t))).state={containerWidth:null,containerHeight:null},a.fitParentContainer=a.fitParentContainer.bind(Object(y.default)(Object(y.default)(a))),a}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){this.fitParentContainer(),window.addEventListener("resize",this.fitParentContainer)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.fitParentContainer)}},{key:"fitParentContainer",value:function(){var t=this.state.containerWidth,e=this.chartContainer.getBoundingClientRect().width,a=this.chartContainer.getBoundingClientRect().height;t!==e&&this.setState(function(){return{containerWidth:e,containerHeight:a}})}},{key:"renderChart",value:function(){var t=this.state.containerWidth,e=this.state.containerHeight;return v.a.createElement(n,Object(c.a)({},this.props,{parentWidth:t,parentHeight:e}))}},{key:"render",value:function(){var t=this,e=null!==this.state.containerWidth;return v.a.createElement("div",{style:{width:"100%",height:"100%",minWidth:"384px",minHeight:"281px"},ref:function(e){t.chartContainer=e},className:"Responsive-wrapper"},e&&this.renderChart())}}]),e}(p.Component)),D=function(t){function e(){return Object(u.default)(this,e),Object(d.default)(this,Object(f.default)(e).apply(this,arguments))}return Object(m.default)(e,t),Object(h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.session,a=(t.navMenu,t.data);return console.log(a,"from first"),v.a.createElement(g.a,Object(c.a)({},this.props,{title:"VEB - The Coca-Cola Company",description:"The Coca-Cola Company",session:e,navMenu:!0,signinBtn:!0}),v.a.createElement("div",{className:"content"},v.a.createElement("h2",null,"Key figures Coca-Cola (NYSE:KO)"),v.a.createElement("p",null,"The Coca-Cola Company is an American ...."),v.a.createElement(S,{data:a[0].last5AnnualTotals})))}}],[{key:"getInitialProps",value:function(){var t=Object(o.default)(i.a.mark(function t(e){var a,n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.req,n=a?a.headers["user-agent"]:navigator.userAgent,t.next=4,fetch("https://vde-app4.app.veb.net/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:s()({operationName:null,variables:{},query:'\n        {\n          security(id: "bjo5t") {\n            id\n            name\n            last5AnnualTotals {\n              Date\n              TotalLiabilitiesStockholdersEquity\n              TotalEquity\n              TotalLiabilities\n              TotalCash\n              NonCurrentAssetsNoGoodwill\n              CurrentAssetsNoCash\n              Goodwill\n            } \n          }\n        }'})}).then(function(t){return t.json()}).then(function(t){return[t.data.security]});case 4:return r=t.sent,t.abrupt("return",{userAgent:n,data:r});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(p.Component);e.default=D}},[["RfrO",1,0]]]);