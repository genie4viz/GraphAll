(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"8jUH":function(t,e,n){"use strict";n.r(e);var a,i=n("UrUy"),r=n.n(i),l=n("JYC+"),s=n.n(l),o=n("R3/3"),c=n("z3IF"),u=n("LkAs"),h=n("Moms"),d=n("bMj6"),f=n("hZod"),m=n("tEuJ"),p=n("mXGw"),v=n.n(p),g=n("CXsl"),b=n("YKN3"),y=n("t1Qi"),w=function(t){function e(t){var n;Object(u.default)(this,e);var a=(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,i=a.data,r=a.band,l=a.xScale,s=a.yScale;return console.log(i),n.state={data:i,band:r,xScale:l,yScale:s},n}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){this.drawBars()}},{key:"componentDidUpdate",value:function(){this.drawBars()}},{key:"componentWillReceiveProps",value:function(t){var e=t.data,n=t.xScale,a=t.yScale;this.setState({data:e,xScale:n,yScale:a})}},{key:"drawBars",value:function(){var t=this.state,e=t.data,n=t.xScale,a=t.yScale,i=e.values.map(function(t){return t.label=t.label,t.value=+t.value,t}),r=y.r().range(["#bdbbbc","#63ae2d","#929292","#000700"]);y.u(this.el).selectAll("*").remove(),y.u(this.el).selectAll("rect").data(i).enter().append("rect").attr("rx",5).attr("ry",5).attr("x",function(t){return t.value>0?n(0):n(t.value)}).attr("width",function(t){return t.value>0?n(t.value-100):n(0)-n(t.value)}).attr("height",a.bandwidth()).attr("y",function(t){return a(t.label)}).style("fill",function(t){return r(t.label)}).style("opacity",function(t){return"EBITDA"===t.label?0:1}),y.u(this.el).selectAll("path").data(i).enter().append("path").attr("d",function(t){return"M"+n(t.value)+" -1 L"+n(t.value)+" "+(a.bandwidth()+2)+" Z"}).style("stroke","#de0730").style("stroke-width",3).style("opacity",function(t){return"EBITDA"===t.label?1:0}),y.u(this.el).selectAll("text").data(i).enter().append("text").attr("x",function(t){return t.value,n(t.value)}).attr("y",function(t){return"EBITDA"!==t.label?a(t.label)+a.bandwidth()/2:0}).text(function(t){return"EBITDA"===t.label?"":t.value+"%"}).attr("text-anchor",function(t){return t.value>0?"end":"start"}).attr("alignment-baseline","central").style("font-size",12).style("fill","white")}},{key:"render",value:function(){var t=this;return v.a.createElement("g",{ref:function(e){return t.el=e}})}}]),e}(v.a.Component),C=function(t){function e(t){var n;Object(u.default)(this,e);var a=(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,i=a.svgDimen,r=a.margins,l=a.data,s=y.q().range([0,i.width-r.left-r.right]).domain([-100,100]),o=y.p().rangeRound([i.height-r.bottom,0]).padding(.01).domain(l.map(function(t){return t.year})),c=y.p().domain(l[0].values.slice(0,4).map(function(t){return t.label})).rangeRound([0,o.bandwidth()]);return n.state={svgDimen:i,margins:r,xScale:s,y0Scale:o,y1Scale:c,data:l},n}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentWillReceiveProps",value:function(t){var e=t.svgDimen,n=t.margins,a=t.data,i=y.q().range([0,e.width-n.left-n.right]).domain([-100,100]),r=y.p().rangeRound([e.height-n.bottom,0]).padding(.01).domain(a.map(function(t){return t.year})),l=y.p().domain(a[0].values.slice(0,4).map(function(t){return t.label})).rangeRound([0,r.bandwidth()]);this.setState({svgDimen:e,margins:n,xScale:i,y0Scale:r,y1Scale:l,data:a})}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var t=this.state,e=t.xScale,n=t.y0Scale,a=t.svgDimen,i=t.margins,r=y.c(e).tickSize(a.height-i.bottom).ticks(10),l=y.d(n).tickSize(0);y.u(this.xAxisElement).selectAll("*").remove(),y.u(this.yAxisElement).selectAll("*").remove(),y.u(this.xAxisElement).attr("class","x axis").call(r).select(".domain").remove(),y.u(this.xAxisElement).selectAll(".tick line").attr("stroke","#777").attr("stroke-dasharray","2,2"),y.u(this.yAxisElement).attr("class","y axis").call(l).select(".domain").remove(),y.u(this.yAxisElement).append("text").attr("x",0).attr("y",0).style("text-anchor","middle").style("fill","black")}},{key:"render",value:function(){var t=this,e=this.state,n=e.data,a=e.xScale,i=e.y0Scale,r=e.y1Scale;return console.log("render inAxis",a(0)),v.a.createElement("g",{className:"Axis"},v.a.createElement("g",{className:"xAxis",transform:"translate(50,0)",ref:function(e){return t.xAxisElement=e}}),v.a.createElement("g",{className:"yAxis",transform:"translate(40,0)",ref:function(e){return t.yAxisElement=e}}),n.map(function(t,e){return v.a.createElement("g",{key:e,className:"bar-group".concat(t.year),transform:"translate(50, ".concat(i(t.year),")")},v.a.createElement(w,{key:e,data:t,yScale:r,xScale:a}))}))}}]),e}(v.a.Component),x=function(t){function e(t){var n;Object(u.default)(this,e);var a=(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,i=a.width,r=a.height,l=a.data,s={top:20,right:20,bottom:20,left:60},o={width:i-s.left-s.right,height:r-s.top-s.bottom};return n.state={margins:s,svgDimen:o,data:l},n}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.width,n=t.height,a=t.data,i={top:20,right:20,bottom:20,left:60},r={width:e-i.left-i.right,height:n-i.top-i.bottom};this.setState({data:a,margins:i,svgDimen:r})}},{key:"render",value:function(){var t=this.state,e=t.svgDimen,n=t.margins,a=t.data;return v.a.createElement("svg",{className:"graphSvg",width:e.width,height:e.height},v.a.createElement(C,{svgDimen:e,margins:n,data:a}))}}]),e}(p.Component),O=function(t){function e(t){var n;Object(u.default)(this,e);var a=(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).props,i=a.parentWidth,r=a.parentHeight,l=a.data;return n.state={data:l,width:Math.max(i,450),height:Math.max(r,400)},n}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(t){this.setState({data:data,width:Math.max(t.parentWidth,450),height:Math.max(t.parentHeight,400)})}},{key:"render",value:function(){var t=this.state.data,e=[],n=[],a=1;return JSON.parse(s()(t),function(t,i){e.push({label:t,value:i}),a%3==0&&(n.push(e),e=[]),a++}),v.a.createElement(p.Fragment,null,v.a.createElement(x,{data:this.state.data,width:this.state.width,height:this.state.height}))}}]),e}(p.Component),E=(a=O,function(t){function e(t){var n;return Object(u.default)(this,e),(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).state={containerWidth:null,containerHeight:null},n.fitParentContainer=n.fitParentContainer.bind(Object(b.default)(Object(b.default)(n))),n}return Object(m.default)(e,t),Object(h.default)(e,[{key:"componentDidMount",value:function(){this.fitParentContainer(),window.addEventListener("resize",this.fitParentContainer)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.fitParentContainer)}},{key:"fitParentContainer",value:function(){var t=this.state.containerWidth,e=this.chartContainer.getBoundingClientRect().width,n=this.chartContainer.getBoundingClientRect().height;t!==e&&this.setState(function(){return{containerWidth:e,containerHeight:n}})}},{key:"renderChart",value:function(){var t=this.state.containerWidth,e=this.state.containerHeight;return v.a.createElement(a,Object(c.a)({},this.props,{parentWidth:t,parentHeight:e}))}},{key:"render",value:function(){var t=this,e=null!==this.state.containerWidth;return v.a.createElement("div",{style:{width:"100%",height:"100%",minWidth:"384px",minHeight:"281px"},ref:function(e){t.chartContainer=e},className:"Responsive-wrapper"},e&&this.renderChart())}}]),e}(p.Component)),j=function(t){function e(){return Object(u.default)(this,e),Object(d.default)(this,Object(f.default)(e).apply(this,arguments))}return Object(m.default)(e,t),Object(h.default)(e,[{key:"render",value:function(){var t=this.props,e=t.session,n=(t.navMenu,t.data);return console.log(n[0].calculated5Y),v.a.createElement(g.a,Object(c.a)({},this.props,{title:"VEB - The Coca-Cola Company",description:"The Coca-Cola Company",session:e,navMenu:!0,signinBtn:!0}),v.a.createElement("div",{className:"content"},v.a.createElement("h2",null,"Key figures Coca-Cola (NYSE:KO)"),v.a.createElement("p",null,"The Coca-Cola Company is an American ...."),v.a.createElement(E,{data:n[0].calculated5Y})))}}],[{key:"getInitialProps",value:function(){var t=Object(o.default)(r.a.mark(function t(e){var n,a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.req,a=n?n.headers["user-agent"]:navigator.userAgent,t.next=4,fetch("https://vde-app4.app.veb.net/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:s()({operationName:null,variables:{},query:'\n        {\n          security(id: "xgfr4") {\n            id\n            name\n            calculated5Y {\n              LY\n              SalesOrRevenueLY\n              SalesOrRevenueLYMin1\n              SalesOrRevenueLYMin2\n              DividendPayOutLY\n              DividendPayOutLYMin1\n              DividendPayOutLYMin2\n              NetoperatingCashFlowLY\n              NetoperatingCashFlowLYMin1\n              NetoperatingCashFlowLYMin2\n              NetoperatingCashFlowLYMin3\n              NetoperatingCashFlowLYMin4\n              NetFinancingCashFlowLY\n              NetFinancingCashFlowLYMin1\n              NetFinancingCashFlowLYMin2\n              NetFinancingCashFlowLYMin3\n              NetFinancingCashFlowLYMin4\n              NetchangeInCashLY\n              NetchangeInCashLYMin1\n              NetchangeInCashLYMin2\n              NetchangeInCashLYMin3\n              NetchangeInCashLYMin4\n              NetInvestingCashFlowLY\n              NetInvestingCashFlowLYMin1\n              NetInvestingCashFlowLYMin2\n              NetInvestingCashFlowLYMin3\n              NetInvestingCashFlowLYMin4\n              EbitdaLY\n              EbitdaLYMin1\n              EbitdaLYMin2\n              EbitdaLYMin3\n              EbitdaLYMin4\n              }\n          }\n        }'})}).then(function(t){return t.json()}).then(function(t){return console.log(t.data.security),[t.data.security]});case 4:return i=t.sent,t.abrupt("return",{userAgent:a,data:i});case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(p.Component);e.default=j},GZ1U:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/negative",function(){var t=n("8jUH");return{page:t.default||t}}])}},[["GZ1U",1,0]]]);